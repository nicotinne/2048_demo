{"version":3,"sources":["../../../../../assets/Script/Handle/assets/Script/Handle/soundHandle.js"],"names":["emitter","require","cc","Class","extends","Component","properties","soundPlusScore","default","type","AudioClip","soundStart","soundEnd","_volume","_isMute","volume","mute","_effect","_bgMusic","current","onLoad","setGameVolume","bind","getIsMute","playStart","onPlayStart","playPlusScore","onPlayPlusScore","playEnd","onPlayEnd","instance","registerEvent","start","audioEngine","playEffect","log","setVolume","isMute","pauseAll","resumeAll"],"mappings":";;;;;;AAAA,IAAMA,UAAUC,QAAQ,UAAR,CAAhB;;AAGAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,wBAAgB;AACZC,qBAAS,IADG;AAEZC,kBAAMP,GAAGQ;AAFG,SADR;AAKRC,oBAAY;AACRH,qBAAS,IADD;AAERC,kBAAMP,GAAGQ;AAFD,SALJ;AASRE,kBAAU;AACNJ,qBAAS,IADH;AAENC,kBAAMP,GAAGQ;AAFH,SATF;;AAcRG,iBAAS,GAdD;AAeRC,iBAAS,IAfD;;AAiBRC,gBAAQ,IAjBA;AAkBRC,cAAM,IAlBE;;AAoBRC,iBAAS,IApBD;AAqBRC,kBAAU,IArBF;;AAuBRC,iBAAS;AAvBD,KAHP;;AA6BL;;AAEAC,UA/BK,oBA+BK;AACN,aAAKL,MAAL,GAAc,KAAKM,aAAL,CAAmBC,IAAnB,CAAwB,IAAxB,CAAd;AACA,aAAKN,IAAL,GAAY,KAAKO,SAAL,CAAeD,IAAf,CAAoB,IAApB,CAAZ;AACA,aAAKE,SAAL,GAAiB,KAAKC,WAAL,CAAiBH,IAAjB,CAAsB,IAAtB,CAAjB;AACA,aAAKI,aAAL,GAAqB,KAAKC,eAAL,CAAqBL,IAArB,CAA0B,IAA1B,CAArB;AACA,aAAKM,OAAL,GAAe,KAAKC,SAAL,CAAeP,IAAf,CAAoB,IAApB,CAAf;;AAEAtB,gBAAQ8B,QAAR,CAAiBC,aAAjB,CAA+B,QAA/B,EAAyC,KAAKhB,MAA9C;AACAf,gBAAQ8B,QAAR,CAAiBC,aAAjB,CAA+B,MAA/B,EAAuC,KAAKf,IAA5C;AACAhB,gBAAQ8B,QAAR,CAAiBC,aAAjB,CAA+B,gBAA/B,EAAiD,KAAKP,SAAtD;AACAxB,gBAAQ8B,QAAR,CAAiBC,aAAjB,CAA+B,eAA/B,EAAgD,KAAKL,aAArD;AACA1B,gBAAQ8B,QAAR,CAAiBC,aAAjB,CAA+B,cAA/B,EAA+C,KAAKH,OAApD;AACH,KA3CI;AA6CLI,SA7CK,mBA6CI,CAER,CA/CI;AAiDLL,mBAjDK,6BAiDa;AACd,YAAG,KAAKb,OAAL,IAAgB,KAAnB,EAA0B;AAC1B,aAAKK,OAAL,GAAejB,GAAG+B,WAAH,CAAeC,UAAf,CAA0B,KAAK3B,cAA/B,EAA+C,KAA/C,CAAf;AACAL,WAAGiC,GAAH,CAAO,KAAKhB,OAAZ;AACH,KArDI;AAuDLM,eAvDK,yBAuDS;AACV,YAAG,KAAKX,OAAL,IAAgB,KAAnB,EAA0B;AAC1B,aAAKK,OAAL,GAAejB,GAAG+B,WAAH,CAAeC,UAAf,CAA0B,KAAKvB,UAA/B,EAA2C,KAA3C,CAAf;AACAT,WAAGiC,GAAH,CAAO,KAAKhB,OAAZ;AACH,KA3DI;AA6DLU,aA7DK,uBA6DO;AACR,YAAG,KAAKf,OAAL,IAAgB,KAAnB,EAA0B;AAC1B,aAAKK,OAAL,GAAejB,GAAG+B,WAAH,CAAeC,UAAf,CAA0B,KAAKtB,QAA/B,EAAyC,KAAzC,CAAf;AACAV,WAAGiC,GAAH,CAAO,KAAKhB,OAAZ;AACH,KAjEI;AAmELE,iBAnEK,yBAmESN,MAnET,EAmEiB;AAClBb,WAAG+B,WAAH,CAAeG,SAAf,CAAyB,KAAKjB,OAA9B,EAAuCJ,MAAvC;AACH,KArEI;AAuELQ,aAvEK,qBAuEKc,MAvEL,EAuEa;AACd,YAAGA,UAAU,KAAb,EAAoB;AAChBnC,eAAG+B,WAAH,CAAeK,QAAf;AACH,SAFD,MAEO;AACHpC,eAAG+B,WAAH,CAAeM,SAAf;AACH;AACD,aAAKzB,OAAL,GAAeuB,MAAf;AACH;;AAED;;AAhFK,CAAT","file":"soundHandle.js","sourceRoot":"../../../../../assets/Script/Handle","sourcesContent":["const emitter = require(\"mEmitter\");\n\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        soundPlusScore: {\n            default: null,\n            type: cc.AudioClip\n        },\n        soundStart: {\n            default: null,\n            type: cc.AudioClip\n        },\n        soundEnd: {\n            default: null,\n            type: cc.AudioClip\n        },\n\n        _volume: 0.5,\n        _isMute: null,\n\n        volume: null,\n        mute: null,\n\n        _effect: null,\n        _bgMusic: null,\n\n        current: null,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        this.volume = this.setGameVolume.bind(this);\n        this.mute = this.getIsMute.bind(this);\n        this.playStart = this.onPlayStart.bind(this);\n        this.playPlusScore = this.onPlayPlusScore.bind(this);\n        this.playEnd = this.onPlayEnd.bind(this);\n\n        emitter.instance.registerEvent(\"VOLUME\", this.volume);\n        emitter.instance.registerEvent(\"MUTE\", this.mute);\n        emitter.instance.registerEvent(\"PLAYSOUNDSTART\", this.playStart);\n        emitter.instance.registerEvent(\"PLAYSOUNDPLUS\", this.playPlusScore);\n        emitter.instance.registerEvent(\"PLAYSOUNDEND\", this.playEnd);\n    },\n\n    start () {\n        \n    },\n\n    onPlayPlusScore() {\n        if(this._isMute == false) return;\n        this.current = cc.audioEngine.playEffect(this.soundPlusScore, false);\n        cc.log(this.current);\n    },\n\n    onPlayStart() {\n        if(this._isMute == false) return;\n        this.current = cc.audioEngine.playEffect(this.soundStart, false);\n        cc.log(this.current);\n    },\n    \n    onPlayEnd() {\n        if(this._isMute == false) return;\n        this.current = cc.audioEngine.playEffect(this.soundEnd, false);\n        cc.log(this.current);\n    },\n\n    setGameVolume(volume) {\n        cc.audioEngine.setVolume(this.current, volume);\n    },\n\n    getIsMute(isMute) {\n        if(isMute == false) {\n            cc.audioEngine.pauseAll();\n        } else {\n            cc.audioEngine.resumeAll();\n        }\n        this._isMute = isMute;\n    }\n\n    // update (dt) {},\n});\n"]}